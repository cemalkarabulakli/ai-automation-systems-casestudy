{
  "updatedAt": "2025-12-02T10:53:46.612Z",
  "createdAt": "2025-11-30T10:15:13.669Z",
  "id": "PxjlYG2Q4JSxdsup",
  "name": "Centralized Error Handler with Slack Notifications",
  "active": false,
  "isArchived": false,
  "nodes": [
    {
      "parameters": {},
      "id": "1b4ba680-2ed1-414b-8b6f-a057b3fba9dd",
      "name": "Error Trigger",
      "type": "n8n-nodes-base.errorTrigger",
      "typeVersion": 1,
      "position": [
        -960,
        -272
      ]
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "id-1",
              "name": "slackChannel",
              "value": "notifications",
              "type": "string"
            },
            {
              "id": "id-2",
              "name": "errorSeverity",
              "value": "high",
              "type": "string"
            },
            {
              "id": "id-3",
              "name": "notificationTitle",
              "value": "ðŸš¨ Workflow Error Alert",
              "type": "string"
            }
          ]
        },
        "includeOtherFields": true,
        "options": {}
      },
      "id": "591704bb-9f9d-4bdc-80cb-a6c821461a5c",
      "name": "Workflow Configuration",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -736,
        -272
      ]
    },
    {
      "parameters": {
        "jsCode": "// Extract error details from Error Trigger\nconst errorTriggerData = $input.first().json;\n\n// Get error details\nconst workflowName = errorTriggerData.workflow?.name || 'Unknown Workflow';\nconst executionId = errorTriggerData.execution?.id || 'N/A';\nconst errorMessage = errorTriggerData.error?.message || 'No error message available';\nconst nodeName = errorTriggerData.error?.node?.name || 'Unknown Node';\nconst timestamp = errorTriggerData.execution?.startedAt || new Date().toISOString();\nconst stackTrace = errorTriggerData.error?.stack || 'No stack trace available';\n\n// Get configuration from previous node\nconst config = $('Workflow Configuration').first().json;\nconst notificationTitle = config.notificationTitle || 'ðŸš¨ Workflow Error Alert';\nconst severity = config.errorSeverity || 'high';\n\n// Format timestamp\nconst formattedTimestamp = new Date(timestamp).toLocaleString('en-US', {\n  year: 'numeric',\n  month: 'short',\n  day: 'numeric',\n  hour: '2-digit',\n  minute: '2-digit',\n  second: '2-digit',\n  timeZoneName: 'short'\n});\n\n// Determine severity emoji\nconst severityEmoji = {\n  'high': 'ðŸ”´',\n  'medium': 'ðŸŸ¡',\n  'low': 'ðŸŸ¢'\n}[severity.toLowerCase()] || 'âš ï¸';\n\n// Create comprehensive Slack message with blocks\nconst slackMessage = `${notificationTitle}\n\n${severityEmoji} *Severity:* ${severity.toUpperCase()}\n\n*Workflow:* ${workflowName}\n*Execution ID:* ${executionId}\n*Failed Node:* ${nodeName}\n*Timestamp:* ${formattedTimestamp}\n\n*Error Message:*\n\\`\\`\\`\n${errorMessage}\n\\`\\`\\`\n\n*Stack Trace:*\n\\`\\`\\`\n${stackTrace.substring(0, 1000)}${stackTrace.length > 1000 ? '...(truncated)' : ''}\n\\`\\`\\`\n\n_View execution details in n8n for more information._`;\n\n// Return formatted data\nreturn {\n  json: {\n    slackMessage,\n    workflowName,\n    executionId,\n    errorMessage,\n    nodeName,\n    timestamp: formattedTimestamp,\n    severity,\n    stackTrace\n  }\n};"
      },
      "id": "eae183f7-1aab-4801-b85a-ae8e39a37310",
      "name": "Format Error Details",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -512,
        -272
      ]
    },
    {
      "parameters": {
        "select": "channel",
        "channelId": {
          "__rl": true,
          "mode": "name",
          "value": "={{ $('Workflow Configuration').first().json.slackChannel }}"
        },
        "text": "={{ $json.slackMessage }}",
        "otherOptions": {}
      },
      "id": "80607116-0af3-46c1-93c7-5e80a1b5509c",
      "name": "Send Error to Slack",
      "type": "n8n-nodes-base.slack",
      "typeVersion": 2.3,
      "position": [
        -288,
        -272
      ],
      "webhookId": "66b10ac1-35f7-46e2-89a1-d14ba06a330e",
      "credentials": {
        "slackApi": {
          "id": "CuzmOPMtETGz61Uq",
          "name": "Slack account"
        }
      }
    }
  ],
  "connections": {
    "Error Trigger": {
      "main": [
        [
          {
            "node": "Workflow Configuration",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Workflow Configuration": {
      "main": [
        [
          {
            "node": "Format Error Details",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Format Error Details": {
      "main": [
        [
          {
            "node": "Send Error to Slack",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": {
    "node:Schedule Trigger": {
      "recurrenceRules": []
    }
  },
  "meta": null,
  "pinData": {},
  "versionId": "a42f5d45-ba2a-4840-a62c-25dae0ad825c",
  "activeVersionId": null,
  "triggerCount": 1,
  "shared": [
    {
      "updatedAt": "2025-11-30T10:15:13.669Z",
      "createdAt": "2025-11-30T10:15:13.669Z",
      "role": "workflow:owner",
      "workflowId": "PxjlYG2Q4JSxdsup",
      "projectId": "34wdTWun3zwPTO9K"
    }
  ],
  "activeVersion": null,
  "tags": [
    {
      "updatedAt": "2025-12-01T21:14:21.337Z",
      "createdAt": "2025-12-01T21:14:21.337Z",
      "id": "TlXbVpMog10NmaMF",
      "name": "public"
    }
  ]
}